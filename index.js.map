{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchImages(query) {\n  const API_KEY = '50349576-73448956e16d67ea550d7c551';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const { data } = await axios.get(URL);\n  return data;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst ul = document.querySelector('.gallery');\nlet lightbox = new SimpleLightbox('.image-li a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nexport function renderGallery(images) {\n  const appendHtml = images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"image-li\">\n           <a href=\"${largeImageURL}\"> <img class=\"li-img\" src=\"${webformatURL}\" alt=\"${tags\n          .split(',')\n          .slice(0, 3)\n          .join(',')}\"> </a>\n          <div class=\"div-upper\">\n            <ul>\n            <li>\n              <div class=\"div-inner\"><b>Likes</b>\n            ${likes}</div>\n            </li>\n\n            <li>\n             <div class=\"div-inner\"><b>Views</b>\n            ${views}</div>\n            </li>\n\n            <li>\n              <div class=\"div-inner\"><b>Comments</b>\n            ${comments}</div>\n            </li>\n\n            <li>\n             <div class=\"div-inner\"><b>Downloads</b>\n            ${downloads}</div>\n            </li>\n\n            </ul>\n          </div>\n        </li>`;\n      }\n    )\n    .join('');\n  ul.insertAdjacentHTML('beforeend', appendHtml);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  ul.innerHTML = '';\n}\n\nexport function showLoader() {\n  document.querySelector('.hidden').style.display = 'flex';\n}\n\nexport function hideLoader() {\n  document.querySelector('.hidden').style.display = 'none';\n}\n","// src/main.js\nimport './css/styles.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport iziToast from 'izitoast';\nimport { fetchImages } from './js/pixabay-api';\nimport {\n  renderGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('#search-form');\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const query = form.searchQuery.value.trim();\n    if (!query) return;\n\n    clearGallery();\n    showLoader();\n\n    try {\n      const response = await fetchImages(query);\n      const images = response.hits;\n\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      renderGallery(images);\n    } catch (error) {\n      iziToast.error({\n        message: 'error.',\n        position: 'topRight',\n      });\n    } finally {\n      hideLoader();\n    }\n  });\n});\n"],"names":["fetchImages","query","URL","data","axios","ul","lightbox","SimpleLightbox","renderGallery","images","appendHtml","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","e","iziToast"],"mappings":"owBAEO,eAAeA,EAAYC,EAAO,CAEvC,MAAMC,EAAM,qEAA6C,mBACvDD,CACD,CAAA,2DAEK,CAAE,KAAAE,CAAI,EAAK,MAAMC,EAAM,IAAIF,CAAG,EACpC,OAAOC,CACT,CCPA,MAAME,EAAK,SAAS,cAAc,UAAU,EAC5C,IAAIC,EAAW,IAAIC,EAAe,cAAe,CAC/C,aAAc,IACd,aAAc,KAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAaD,EAChB,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,sBACON,CAAa,+BAA+BC,CAAY,UAAUC,EAC7E,MAAM,GAAG,EACT,MAAM,EAAG,CAAC,EACV,KAAK,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,cAKNC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,cAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,cAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,cAKRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,cAOlB,EACA,KAAK,EAAE,EACVZ,EAAG,mBAAmB,YAAaK,CAAU,EAC7CJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bb,EAAG,UAAY,EACjB,CAEO,SAASc,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CCtDA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAU,MAAMC,GAAK,CACzCA,EAAE,eAAc,EAEhB,MAAMrB,EAAQoB,EAAK,YAAY,MAAM,KAAI,EACzC,GAAKpB,EAEL,CAAAiB,IACAC,IAEA,GAAI,CAEF,MAAMV,GADW,MAAMT,EAAYC,CAAK,GAChB,KAExB,GAAIQ,EAAO,SAAW,EAAG,CACvBc,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDf,EAAcC,CAAM,CACrB,MAAe,CACdc,EAAS,MAAM,CACb,QAAS,SACT,SAAU,UAClB,CAAO,CACP,QAAc,CACRH,GACD,EACL,CAAG,CACH,CAAC"}