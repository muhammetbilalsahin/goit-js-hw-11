{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// src/api.js\nimport axios from 'axios';\n\nexport async function fetchImages(query) {\n  const API_KEY = '50349576-73448956e16d67ea550d7c551';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const { data } = await axios.get(URL);\n  return data;\n}\n","import SimpleLightbox from 'simplelightbox';\n\nlet lightbox;\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n\n  const markup = images\n    .map(\n      img => `\n        <li class=\"photo-card\">\n          <a href=\"${img.largeImageURL}\">\n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n          </a>\n          <div class=\"info\">\n            <p><b>Likes:</b> ${img.likes}</p>\n            <p><b>Views:</b> ${img.views}</p>\n            <p><b>Comments:</b> ${img.comments}</p>\n            <p><b>Downloads:</b> ${img.downloads}</p>\n          </div>\n        </li>\n      `\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a');\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('#loader');\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('#loader');\n  loader.classList.add('hidden');\n}\n","// src/main.js\nimport './css/styles.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport iziToast from 'izitoast';\nimport { fetchImages } from './js/pixabay-api';\nimport {\n  renderGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('#search-form');\n\n  form.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const query = form.searchQuery.value.trim();\n    if (!query) return;\n\n    clearGallery();\n    showLoader();\n\n    try {\n      const response = await fetchImages(query);\n      const images = response.hits;\n\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      renderGallery(images);\n    } catch (error) {\n      iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n        position: 'topRight',\n      });\n    } finally {\n      hideLoader();\n    }\n  });\n});\n"],"names":["fetchImages","query","URL","data","axios","lightbox","renderGallery","images","gallery","markup","img","SimpleLightbox","clearGallery","showLoader","hideLoader","form","e","iziToast"],"mappings":"owBAGO,eAAeA,EAAYC,EAAO,CAEvC,MAAMC,EAAM,qEAA6C,mBACvDD,CACD,CAAA,2DAEK,CAAE,KAAAE,CAAI,EAAK,MAAMC,EAAM,IAAIF,CAAG,EACpC,OAAOC,CACT,CCTA,IAAIE,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAASF,EACZ,IACCG,GAAO;AAAA;AAAA,qBAEQA,EAAI,aAAa;AAAA,wBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,+BAG3BA,EAAI,KAAK;AAAA,+BACTA,EAAI,KAAK;AAAA,kCACNA,EAAI,QAAQ;AAAA,mCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,OAI3C,EACA,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEfJ,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIM,EAAe,YAAY,CAI9C,CAEO,SAASC,GAAe,CAC7B,MAAMJ,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACtB,CAEO,SAASK,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASC,GAAa,CACZ,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,QAAQ,CAC/B,CCjCA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAO,SAAS,cAAc,cAAc,EAElDA,EAAK,iBAAiB,SAAU,MAAMC,GAAK,CACzCA,EAAE,eAAc,EAEhB,MAAMf,EAAQc,EAAK,YAAY,MAAM,KAAI,EACzC,GAAKd,EAEL,CAAAW,IACAC,IAEA,GAAI,CAEF,MAAMN,GADW,MAAMP,EAAYC,CAAK,GAChB,KAExB,GAAIM,EAAO,SAAW,EAAG,CACvBU,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDX,EAAcC,CAAM,CACrB,MAAe,CACdU,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAClB,CAAO,CACP,QAAc,CACRH,GACD,EACL,CAAG,CACH,CAAC"}