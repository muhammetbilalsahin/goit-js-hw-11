{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["import 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('#loader');\nlet lightbox;\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  const query = form.searchQuery.value.trim();\n\n  if (!query) return;\n\n  gallery.innerHTML = '';\n  showLoader();\n\n  try {\n    const response = await fetchImages(query);\n    const images = response.hits;\n\n    if (images.length === 0) {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    const markup = createGalleryMarkup(images);\n    gallery.innerHTML = markup;\n\n    if (!lightbox) {\n      lightbox = new SimpleLightbox('.gallery a');\n    } else {\n      lightbox.refresh();\n    }\n  } catch (error) {\n    iziToast.error({\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n  }\n});\n\nfunction createGalleryMarkup(images) {\n  return images\n    .map(\n      img => `\n    <a href=\"${img.largeImageURL}\" class=\"photo-card\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p><b>Likes:</b> ${img.likes}</p>\n        <p><b>Views:</b> ${img.views}</p>\n        <p><b>Comments:</b> ${img.comments}</p>\n        <p><b>Downloads:</b> ${img.downloads}</p>\n      </div>\n    </a>`\n    )\n    .join('');\n}\nfunction showLoader() {\n  loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('hidden');\n}\n\nasync function fetchImages(query) {\n  const API_KEY = '50349576-73448956e16d67ea550d7c551';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const { data } = await axios.get(URL);\n  return data;\n}\n"],"names":["form","gallery","loader","lightbox","e","query","showLoader","images","fetchImages","iziToast","markup","createGalleryMarkup","SimpleLightbox","hideLoader","img","URL","data","axios"],"mappings":"owBAQA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJH,EAAK,iBAAiB,SAAU,MAAMI,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMC,EAAQL,EAAK,YAAY,MAAM,KAAI,EAEzC,GAAKK,EAEL,CAAAJ,EAAQ,UAAY,GACpBK,IAEA,GAAI,CAEF,MAAMC,GADW,MAAMC,EAAYH,CAAK,GAChB,KAExB,GAAIE,EAAO,SAAW,EAAG,CACvBE,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CAED,MAAMC,EAASC,EAAoBJ,CAAM,EACzCN,EAAQ,UAAYS,EAEfP,EAGHA,EAAS,QAAO,EAFhBA,EAAW,IAAIS,EAAe,YAAY,CAI7C,MAAe,CACdH,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRI,GACD,EACH,CAAC,EAED,SAASF,EAAoBJ,EAAQ,CACnC,OAAOA,EACJ,IACCO,GAAO;AAAA,eACEA,EAAI,aAAa;AAAA,kBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,2BAEzBA,EAAI,KAAK;AAAA,2BACTA,EAAI,KAAK;AAAA,8BACNA,EAAI,QAAQ;AAAA,+BACXA,EAAI,SAAS;AAAA;AAAA,SAGvC,EACA,KAAK,EAAE,CACZ,CACA,SAASR,GAAa,CACpBJ,EAAO,UAAU,OAAO,QAAQ,CAClC,CACA,SAASW,GAAa,CACpBX,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,eAAeM,EAAYH,EAAO,CAEhC,MAAMU,EAAM,qEAA6C,mBACvDV,CACD,CAAA,2DACK,CAAE,KAAAW,CAAI,EAAK,MAAMC,EAAM,IAAIF,CAAG,EACpC,OAAOC,CACT"}